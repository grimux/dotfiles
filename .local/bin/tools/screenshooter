#!/usr/bin/env bash
# 
# A simple script to take screenshots.
#

# Use scrot to take the screenshot.  It also creates a thumbnail to use in the notification.
# monitor is to select only the primary display.

# Get the name of the application that is currently focused on.
application_name=$(xdotool getactivewindow getwindowname)

# Call to scrot
# Will create a thumbnail and only capture monitor 0.
# It then executes a command on the image, display a notification, and remove the thumbnail.
scrot \
	"$application_name"_%Y_%m_%d_%H_%M_%S.png \
	--thumb 20 \
	--monitor 0 \
	--exec \
	'mv "$f" $$(xdg-user-dir PICTURES); notify-send --icon "$m" "Screenshot Taken\n$f"; rm --force "$m"'

# Play a camera shutter sound.
canberra-gtk-play --id=camera-shutter
